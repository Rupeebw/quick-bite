<details>
<summary>Introduction</summary>
<br>

  <img width="424" alt="image" src="https://user-images.githubusercontent.com/75510135/166130753-a02b76ee-8277-46f6-9338-e0490db9b1b7.png">

  <img width="1001" alt="image" src="https://user-images.githubusercontent.com/75510135/166130884-4e42e962-8f23-4031-a410-96903277e569.png">

  <img width="1014" alt="image" src="https://user-images.githubusercontent.com/75510135/166130880-f11eaa71-3579-492e-bedc-69c61b304be6.png">

  <img width="962" alt="image" src="https://user-images.githubusercontent.com/75510135/166130872-11fcef25-7227-4ed6-a5e4-fc5d1209ea10.png">

  <img width="951" alt="image" src="https://user-images.githubusercontent.com/75510135/166130862-8aeb1bf5-0d70-41d8-bc5a-2ff33e951412.png">

  <img width="927" alt="image" src="https://user-images.githubusercontent.com/75510135/166130856-8a06cc32-3445-4a7a-b048-a12ec3010a2f.png">

</details>

<details>
<summary>Cluster Networking</summary>
<br>

  <img width="881" alt="image" src="https://user-images.githubusercontent.com/75510135/166131042-391bd222-3ce3-4993-858f-ac5bf8d33313.png">

  <img width="931" alt="image" src="https://user-images.githubusercontent.com/75510135/166131055-d565b9ae-e465-4694-b2e4-e9d542b23d0e.png">

  <img width="962" alt="image" src="https://user-images.githubusercontent.com/75510135/166131062-11158a51-1a9d-4ab8-89f1-e4d929c51ec0.png">

  <img width="958" alt="image" src="https://user-images.githubusercontent.com/75510135/166131197-ab4743e1-e15b-4e13-b6a5-97c776338249.png">

  <img width="923" alt="image" src="https://user-images.githubusercontent.com/75510135/166131210-c43eaaf2-a124-45f7-997e-31e487ffcdbc.png">

  
</details>

<details>
<summary>Networking port</summary>
<br>

  <img width="868" alt="image" src="https://user-images.githubusercontent.com/75510135/166131274-0c3ed5a5-9cf4-4b51-a4c4-9f5c2ade01e7.png">

  <img width="850" alt="image" src="https://user-images.githubusercontent.com/75510135/166131267-3ddef335-0a93-4462-b78d-4ad9c2f22eeb.png">

  <img width="982" alt="image" src="https://user-images.githubusercontent.com/75510135/166131261-93f4d188-478a-4a42-af7c-4054b48766b7.png">

</details>

<details>
<summary>Container-2-Container Communication</summary>
<br>

  <img width="724" alt="image" src="https://user-images.githubusercontent.com/75510135/166131427-9c7e6489-f565-4f54-8bc0-fc9e2c2dd14f.png">

  <img width="824" alt="image" src="https://user-images.githubusercontent.com/75510135/166131438-b70afd8a-9b79-4e7a-9972-d76f47bea447.png">

  <img width="873" alt="image" src="https://user-images.githubusercontent.com/75510135/166131443-e7dce9ef-c5f9-4a57-a082-144eeb24861e.png">

  <img width="1018" alt="image" src="https://user-images.githubusercontent.com/75510135/166131450-52cdfbe8-7c5e-47b9-b46d-593d7d2ed2a7.png">

  
</details>

<details>
<summary>Pod-2-Pod Communication</summary>
<br>
  
  
  <img width="832" alt="image" src="https://user-images.githubusercontent.com/75510135/166131578-563ff2fc-26a3-4cbd-8e69-409da081da0c.png">

  <img width="821" alt="image" src="https://user-images.githubusercontent.com/75510135/166131570-2c33e6c9-858d-477b-957a-939593443da7.png">

  
  <img width="816" alt="image" src="https://user-images.githubusercontent.com/75510135/166131561-db8cc185-551d-4432-8bfb-e850dab8ada7.png">

  <img width="1001" alt="image" src="https://user-images.githubusercontent.com/75510135/166131556-2e86fa9f-876a-4826-bf43-6fb67fe5eab7.png">


  <img width="1003" alt="image" src="https://user-images.githubusercontent.com/75510135/166131554-076afad0-2ac6-4434-95bb-0d4cf0ba3b26.png">

</details>


<details>
<summary>CNI & choosing - CNI</summary>
<br>

  <img width="962" alt="image" src="https://user-images.githubusercontent.com/75510135/166131733-f61d2e77-6dcd-4288-9d22-caabd1428380.png">

  <img width="884" alt="image" src="https://user-images.githubusercontent.com/75510135/166131699-3ce15443-09b1-4a08-8132-025b5d63b837.png">

  <img width="1015" alt="image" src="https://user-images.githubusercontent.com/75510135/166131689-66015afe-d7eb-4e85-b540-ce095da3cfb0.png">

  <img width="945" alt="image" src="https://user-images.githubusercontent.com/75510135/166131676-1c40c158-32f7-47d2-b8de-ee0eda689bdf.png">

  <img width="928" alt="image" src="https://user-images.githubusercontent.com/75510135/166131808-2a90ca82-94f2-4984-bf3b-8d781f3a4c5b.png">

</details>

 
<details>
<summary>Services</summary>
<br>
  
  <img width="949" alt="image" src="https://user-images.githubusercontent.com/75510135/166131933-a557cb0f-dc13-4b8d-b11b-79598e10ec40.png">

  <img width="951" alt="image" src="https://user-images.githubusercontent.com/75510135/166131921-fed61884-71e9-422b-94b0-9ef940789a5f.png">

  <img width="921" alt="image" src="https://user-images.githubusercontent.com/75510135/166131914-67ee6cc1-b536-4327-8792-e4ea4090ff26.png">

  <img width="1009" alt="image" src="https://user-images.githubusercontent.com/75510135/166131900-86e41bbe-0198-4d79-8201-85c6a0227418.png">

</details>

<details>
<summary>Service Type - ClusterIP, NodePort , LoadBalancer</summary>
<br>

  <img width="926" alt="image" src="https://user-images.githubusercontent.com/75510135/166132002-f8ccccf8-4326-4c0b-8f90-a001e88dcfd9.png">
  
</details>

<details>
<summary>NodePort - Practice</summary>
<br>

  ```
  * Reference:                                                                                      *
* ----------                                                                                      *
* https://kubernetes.io/docs/concepts/services-networking/service/                                *
* https://kubernetes.io/docs/tutorials/kubernetes-basics/expose/expose-intro/                     *
* https://medium.com/google-cloud/understanding-kubernetes-networking-services-f0cb48e4cc82       *
* https://medium.com/google-cloud/kubernetes-nodeport-vs-loadbalancer-vs-ingress-when-should-i-use-what-922f010849e0
*                                                                                                 *
* NodePort Service:                                                                               *
* ------------------                                                                              *
* https://kubernetes.io/docs/concepts/services-networking/service/#nodeport                       *
* https://kubernetes.io/docs/tasks/access-application-cluster/service-access-application-cluster/ *
* https://cloud.ibm.com/docs/containers?topic=containers-nodeport                                 *
* https://cloud.google.com/kubernetes-engine/docs/how-to/exposing-apps                            *

1. Creating Sample Deployment and Service "Declaratively (Using YAML file)":
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

a) Deployment YAML file:
------------------------
# nginx-deploy.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deployment
  labels:
    app: nginx-app
spec:
  replicas: 1
  selector:
    matchLabels:
      app: nginx-app
  template:
    metadata:
      labels:
        app: nginx-app
    spec:
      containers:
      - name: nginx-container
        image: nginx:1.18
        ports:
        - containerPort: 80


b) NodePort Service YAML file:
------------------------------
# Service
# nginx-svc-np.yaml
apiVersion: v1
kind: Service	
metadata:
  name: my-service
  labels:
    app: nginx-app
spec:
  selector:
    app: nginx-app
  type: NodePort
  ports:
  - nodePort: 31111
    port: 80
    targetPort: 80


c) Deploying Applications:
--------------------------
kubectl apply -f nginx-deploy.yaml
kubectl apply -f nginx-svc-np.yaml


***************************************************************************************************


2. Creating Deployment and NodePort Service Application "Imperatively (From Command promp)":
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Deployment:
-----------
kubectl create deployment [DEPLOYMENT-NAME] --image=[CONTAINER-IMAGE]--replicas=[REPLICA-COUNT]


Service:
--------
kubectl expose deployment [DEPLOYMENT-NAME] --type=NodePort --name=[SERVICE-NAME] --port=[PORT-NUMBER]



***************************************************************************************************


3. End-to-End Testing:
~~~~~~~~~~~~~~~~~~~~~~
NOTE-1: Before you test, please sure ensure you have created two network rules and assigned to nodes accordingly.
Firewall Rules: 
For Master Node: TCP Ingress with Ports - 2379, 6443, 10250, 10251, 10252
For Woker Nodes: TCP Ingress with Ports - 10250, 30000-32767


a. Create Sample Deployment
---------------------------
kubectl create deployment test --image=nginx --replicas=3

b. Next, expose the previous Deployment:
-----------------------------------------
kubectl expose deployment test --type=NodePort --name=test-svc --port=80

c. Now, get the NodePort service number on which this service is exposed on:
-----------------------------------------------------------------------------
kubectl get svc

d. Next, get the external IP address of the worker node on which this Pod is running
-------------------------------------------------------------------------------------
kubectl get pods -o wide

e. Then, you can open the any browser or execute curl command as mentioned below.
The syntax is the external IP of the worker node followed by nodePort number
-----------------------------------------------------------------------------

root@master:~# curl http://35.224.90.242:31506/
<!DOCTYPE html>
<html>
<head>
<title>Welcome to nginx!</title>
<style>
    body {
        width: 35em;
        margin: 0 auto;
        font-family: Tahoma, Verdana, Arial, sans-serif;
    }
</style>



***************************************************************************************************

4. Cleanup
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
kubectl delete deploy [NAME]
kubectl delete svc [NAME]
  ```
</details>

- https://kubernetes.io/docs/concepts/services-networking/service/

- https://kubernetes.io/docs/tutorials/kubernetes-basics/expose/expose-intro/

- https://medium.com/google-cloud/understanding-kubernetes-networking-services-f0cb48e4cc82

- https://medium.com/google-cloud/kubernetes-nodeport-vs-loadbalancer-vs-ingress-when-should-i-use-what-922f010849e0
  
<details>
<summary>Kube-proxy</summary>
<br>
  
  <img width="1009" alt="image" src="https://user-images.githubusercontent.com/75510135/166132512-75d35cba-b4ed-4c75-9168-c6155dfc157f.png">
  
  <img width="617" alt="image" src="https://user-images.githubusercontent.com/75510135/166132503-3c2c0fb4-7830-43d0-8647-36a92a8448a3.png">

  <img width="961" alt="image" src="https://user-images.githubusercontent.com/75510135/166132493-aeffbccb-29cf-44d2-a14e-1da08d4245f2.png">

  <img width="960" alt="image" src="https://user-images.githubusercontent.com/75510135/166132482-ef4e2f46-aa2a-4171-ac6d-ec23f4ba459c.png">

  <img width="1010" alt="image" src="https://user-images.githubusercontent.com/75510135/166132467-f2e70467-aaa5-4127-83da-4121557b3331.png">

</details>

- https://kubernetes.io/docs/concepts/overview/components/#kube-proxy

- https://kubernetes.io/docs/tasks/access-application-cluster/access-cluster/#using-kubectl-proxy
  
<details>
<summary>DNS - Domain Name Service</summary>
<br>

  <img width="980" alt="image" src="https://user-images.githubusercontent.com/75510135/166132623-d44ca793-e66b-4f01-8585-28644016e0ec.png">

  <img width="983" alt="image" src="https://user-images.githubusercontent.com/75510135/166132612-e7ce6249-4216-4d21-9c07-4886b7c558fa.png">

  <img width="1028" alt="image" src="https://user-images.githubusercontent.com/75510135/166132607-33b8fb7a-d450-4c03-ae0c-bae78233d9ab.png">

  <img width="1010" alt="image" src="https://user-images.githubusercontent.com/75510135/166132601-b25403af-0904-47bc-a18e-07d7caa9d80a.png">

</details>

<details>
<summary>CoreDNS - KubeDNS</summary>
<br>

  <img width="1023" alt="image" src="https://user-images.githubusercontent.com/75510135/166132778-bac7582e-bc5b-4937-80e2-d958ba257902.png">

  ```
  https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/

  https://www.digitalocean.com/community/tutorials/an-introduction-to-the-kubernetes-dns-service

  https://sysdig.com/blog/understanding-how-kubernetes-services-dns-work/

   https://kubernetes.io/docs/tasks/administer-cluster/dns-custom-nameservers/#coredns
  ```
</details>
  

<details>
<summary>CoreDNS - KubeDNS</summary>
<br>

  
</details>
  

<details>
<summary>CoreDNS - KubeDNS</summary>
<br>

  
</details>
