- https://github.com/rupeshpanwar/DevOps

<img width="992" alt="image" src="https://user-images.githubusercontent.com/75510135/146233833-2d0e9f37-3574-45fd-a413-5c3c932cb50e.png">
<img width="984" alt="image" src="https://user-images.githubusercontent.com/75510135/146233889-4e51b3b5-19ca-4970-ae21-905ce1d9863b.png">
<img width="1050" alt="image" src="https://user-images.githubusercontent.com/75510135/146234301-97ffc0f8-660e-42c7-95e7-2668ac182b43.png">
<img width="941" alt="image" src="https://user-images.githubusercontent.com/75510135/146234528-95c93122-fe63-4acf-89a3-6fabadfbd0ff.png">
<img width="868" alt="image" src="https://user-images.githubusercontent.com/75510135/146234607-91b70e7b-4d18-49af-a78d-a6bcf8f0d215.png">
<img width="1016" alt="image" src="https://user-images.githubusercontent.com/75510135/146234896-39aef81b-78a8-4a51-8c06-23ee654626ea.png">
# sonarqube setup
- https://github.com/rupeshpanwar/DevOps/blob/master/sonarqube/Setup_SonarQube.md
- open port 9000 on sonar node
<img width="866" alt="image" src="https://user-images.githubusercontent.com/75510135/146235763-21b7d14e-691b-4b76-b171-a129f9595e47.png">
<img width="744" alt="image" src="https://user-images.githubusercontent.com/75510135/146235929-bab94509-aa29-4aa0-9e98-3f895438157e.png">
<img width="1041" alt="image" src="https://user-images.githubusercontent.com/75510135/146236153-35ba00ba-5d27-4ced-9dd8-99214a9da7ff.png">
<img width="585" alt="image" src="https://user-images.githubusercontent.com/75510135/146236281-a98b7c53-51fd-449e-82f3-d9d03d2a997d.png">
<img width="505" alt="image" src="https://user-images.githubusercontent.com/75510135/146236501-e2e8585f-ec52-4b8b-a680-45246e213d3e.png">
<img width="517" alt="image" src="https://user-images.githubusercontent.com/75510135/146236699-b9b4c93e-b000-4f0c-a508-3dc399dc0a60.png">
<img width="1043" alt="image" src="https://user-images.githubusercontent.com/75510135/146236771-a5419ec6-6526-4f37-b046-4faf7a5e450c.png">
<img width="728" alt="image" src="https://user-images.githubusercontent.com/75510135/146236939-2f038230-0ee1-4970-8d8b-6a497c45fb68.png">
<img width="625" alt="image" src="https://user-images.githubusercontent.com/75510135/146237032-ae0b5323-73ea-4b8b-b7b4-69a2ac864ae5.png">
<img width="803" alt="image" src="https://user-images.githubusercontent.com/75510135/146237115-e57942e4-6cca-4979-8e7c-084e03793f77.png">
- default cred for login first time admin/admin
<img width="797" alt="image" src="https://user-images.githubusercontent.com/75510135/146237285-47b0ea7c-f767-4997-b28d-47834ed9b6fd.png">
<img width="1038" alt="image" src="https://user-images.githubusercontent.com/75510135/146237355-38acbef2-11d9-4572-9867-eb4883b2777c.png">
# Overview
<img width="932" alt="image" src="https://user-images.githubusercontent.com/75510135/146237474-c3c56043-5791-4463-94bd-097bb40709b3.png">
<img width="461" alt="image" src="https://user-images.githubusercontent.com/75510135/146237536-3d2abc8c-175c-490a-b6c9-3866dd3784d6.png">
<img width="431" alt="image" src="https://user-images.githubusercontent.com/75510135/146237577-a6b914e5-62f5-42b1-bb7c-4296ebf34158.png">
<img width="636" alt="image" src="https://user-images.githubusercontent.com/75510135/146237696-cbf7d450-4ab2-4885-b2b4-0b0ee02021b2.png">
<img width="822" alt="image" src="https://user-images.githubusercontent.com/75510135/146237796-34b4db1b-7450-4e57-ba01-a01a719c3114.png">
<img width="963" alt="image" src="https://user-images.githubusercontent.com/75510135/146237838-4ecbce39-2d6a-4965-b632-210459f9577a.png">
<img width="949" alt="image" src="https://user-images.githubusercontent.com/75510135/146237912-11ae4e99-d63d-4f58-9030-7c6d78c16a94.png">
<img width="957" alt="image" src="https://user-images.githubusercontent.com/75510135/146238123-f07940ef-538c-4c8f-9fed-3529d1286fbe.png">
<img width="692" alt="image" src="https://user-images.githubusercontent.com/75510135/146238285-fe698e1f-c2b3-4476-a73d-24e18263d4a2.png">
<img width="958" alt="image" src="https://user-images.githubusercontent.com/75510135/146238356-d9b7282e-88ae-4a87-9f47-8b34703a9581.png">
<img width="956" alt="image" src="https://user-images.githubusercontent.com/75510135/146238480-772d543b-d080-468a-b4fb-ceef157eee3b.png">
<img width="979" alt="image" src="https://user-images.githubusercontent.com/75510135/146238635-f5cb0f8e-b3d7-46ca-aa7d-e284d9973492.png">
- run on maven server to send the code to SQ
<img width="739" alt="image" src="https://user-images.githubusercontent.com/75510135/146239095-d5054eaa-4d58-4d90-9a96-bd29fa1e6bc5.png">
<img width="1028" alt="image" src="https://user-images.githubusercontent.com/75510135/146239208-decce46c-cc5b-4bf9-ba9e-871944ba087c.png">
<img width="993" alt="image" src="https://user-images.githubusercontent.com/75510135/146239295-b08a2bae-2d91-4536-a853-5a594e88bcbd.png">
<img width="1074" alt="image" src="https://user-images.githubusercontent.com/75510135/146239389-cebc9a70-a6a9-4ff4-9af4-bd65084e886b.png">
<img width="456" alt="image" src="https://user-images.githubusercontent.com/75510135/146239460-ba518b7c-59be-4531-80e4-e5a4384fb39a.png">
<img width="979" alt="image" src="https://user-images.githubusercontent.com/75510135/146239516-20195d22-8fac-469e-897c-1ac300aa573a.png">
<img width="955" alt="image" src="https://user-images.githubusercontent.com/75510135/146239620-3514911b-f07a-48e8-b719-b7a6a0a1e1e8.png">

# SQ - Postgres Integration
<img width="972" alt="image" src="https://user-images.githubusercontent.com/75510135/146292181-096b1e7b-757f-474b-a6f3-ef5680b1221d.png">
<img width="802" alt="image" src="https://user-images.githubusercontent.com/75510135/146292203-f61c0d0b-1cdf-4dc8-ad1c-609d92a55f01.png">
- https://github.com/rupeshpanwar/DevOps/blob/master/sonarqube/Sonarqube_with_database.md
<img width="1029" alt="image" src="https://user-images.githubusercontent.com/75510135/146292491-c1577a69-bcfd-4f9e-8e93-14fea2a3a5bf.png">
- SQ node , SG
<img width="1057" alt="image" src="https://user-images.githubusercontent.com/75510135/146293171-5248cbf7-f416-4695-b735-b4c96beeb9a4.png">
<img width="761" alt="image" src="https://user-images.githubusercontent.com/75510135/146293344-14ef797d-823f-44b3-a113-48ce17796029.png">
<img width="1076" alt="image" src="https://user-images.githubusercontent.com/75510135/146293520-7dec7b9f-8d29-4f26-b5a1-1d06d65f5b3d.png">
<img width="841" alt="image" src="https://user-images.githubusercontent.com/75510135/146293596-3adf1959-216c-49fb-93ae-4fbffbd63af7.png">
<img width="859" alt="image" src="https://user-images.githubusercontent.com/75510135/146293664-182c49f5-8003-4cf0-a7c2-abb1f23f7a70.png">
<img width="975" alt="image" src="https://user-images.githubusercontent.com/75510135/146293804-f604e54e-06a6-4605-bb3e-b464517a8ca3.png">
<img width="829" alt="image" src="https://user-images.githubusercontent.com/75510135/146293907-2d08fbfd-af4b-4bbd-9521-55d24783d8f6.png">
<img width="868" alt="image" src="https://user-images.githubusercontent.com/75510135/146294017-279aabdd-8097-46ba-91e3-5f5d5f9ed5f9.png">
<img width="610" alt="image" src="https://user-images.githubusercontent.com/75510135/146294131-988b288c-2a56-4052-8942-8f3dfd53023f.png">
<img width="363" alt="image" src="https://user-images.githubusercontent.com/75510135/146294166-5f076c37-51d9-4d27-93d4-91797a80ba5f.png">
<img width="537" alt="image" src="https://user-images.githubusercontent.com/75510135/146294218-be0b239a-5cd1-4b0a-9cdb-c48af24cb5e9.png">
## install SQ now
<img width="1012" alt="image" src="https://user-images.githubusercontent.com/75510135/146294355-b51cbf2d-989a-4b3e-bbe8-275c6e48d595.png">
<img width="590" alt="image" src="https://user-images.githubusercontent.com/75510135/146294442-f12ee254-9c34-48f9-bf6d-c4478f5800c8.png">
<img width="672" alt="image" src="https://user-images.githubusercontent.com/75510135/146294485-011839fd-421b-4679-803e-d742f67229ff.png">
<img width="895" alt="image" src="https://user-images.githubusercontent.com/75510135/146294623-0fb76171-a6b3-4dc6-a478-cae5af0b63c6.png">
<img width="920" alt="image" src="https://user-images.githubusercontent.com/75510135/146294692-82bd59e4-5169-4d1e-bc57-460c5c6979e1.png">
<img width="906" alt="image" src="https://user-images.githubusercontent.com/75510135/146294778-a2c22949-6473-487a-bc3f-e1c9fa55c6d1.png">
<img width="686" alt="image" src="https://user-images.githubusercontent.com/75510135/146294888-3404447e-97f9-4cae-a827-92df587e58f8.png">
<img width="610" alt="image" src="https://user-images.githubusercontent.com/75510135/146295012-dfb8dc19-0ce3-4edc-a6f8-44d09440bd39.png">
<img width="602" alt="image" src="https://user-images.githubusercontent.com/75510135/146295091-6a157e0c-94df-4b84-bd23-91cdced03ea2.png">
<img width="624" alt="image" src="https://user-images.githubusercontent.com/75510135/146295170-b772c6b0-d7d7-4bd4-9773-4d129d4a66eb.png">
<img width="1067" alt="image" src="https://user-images.githubusercontent.com/75510135/146295197-bad030ad-4245-4804-8c43-deff3a9a5b6b.png">
<img width="878" alt="image" src="https://user-images.githubusercontent.com/75510135/146295255-bb642d5c-5396-4cba-a500-d2f3c81f319a.png">
<img width="973" alt="image" src="https://user-images.githubusercontent.com/75510135/146295321-d0825d72-5f29-4968-89c5-769b4cdf2a42.png">

# SQ - Jenkins Integration
- https://github.com/rupeshpanwar/DevOps/blob/master/sonarqube/integrate_sonar_with_jenkins.md
<img width="802" alt="image" src="https://user-images.githubusercontent.com/75510135/146296571-3eae5f79-9bd6-49e9-b56e-3964c3618ac4.png">
<img width="996" alt="image" src="https://user-images.githubusercontent.com/75510135/146296915-03751474-eee8-4945-a849-8ed6b11bde28.png">
- to generate a token in Jenkins, add a project
<img width="968" alt="image" src="https://user-images.githubusercontent.com/75510135/146297017-62315b10-84bf-4fa1-a668-1bdbaf9b57cc.png">
<img width="937" alt="image" src="https://user-images.githubusercontent.com/75510135/146297056-52ccbbf5-de2c-48dd-b564-82ba3d789864.png">
<img width="415" alt="image" src="https://user-images.githubusercontent.com/75510135/146297094-55d29079-638c-438b-b127-d2a8c9771f64.png">
<img width="411" alt="image" src="https://user-images.githubusercontent.com/75510135/146297123-d0b85412-bdb7-4ad2-90f4-7083ec21e9cf.png">
<img width="481" alt="image" src="https://user-images.githubusercontent.com/75510135/146297195-504b7323-375f-4bd7-acc9-f82a30afa2d8.png">
<img width="618" alt="image" src="https://user-images.githubusercontent.com/75510135/146297245-cddc9125-c742-446b-83b7-d2a9696fefa3.png">
- create a jenkins credentials using token
<img width="498" alt="image" src="https://user-images.githubusercontent.com/75510135/146297397-3f31b798-4b8c-4994-aa8a-71f0be732de3.png">
<img width="757" alt="image" src="https://user-images.githubusercontent.com/75510135/146299606-11aa294c-ae64-4fa6-af99-63f2e3748c44.png">
- Install SQ Scanner on Jenkins node
<img width="533" alt="image" src="https://user-images.githubusercontent.com/75510135/146299739-0bed997f-1a48-4d15-b214-8c9e37f4c251.png">
## create pipeline type for SQ pipeline
<img width="499" alt="image" src="https://user-images.githubusercontent.com/75510135/146299839-3fb9df68-a803-46ca-8ec6-fc01c5ec1a97.png">
- take mvn path from Jenkins server
<img width="954" alt="image" src="https://user-images.githubusercontent.com/75510135/146299996-32cd5a7e-62d5-4f95-b486-cb4c511b1774.png">
```
Jenkinsfile
pipeline{
    agent any
    environment {
        PATH = "$PATH:/opt/apache-maven-3.8.2/bin"
    }
    stages{
       stage('GetCode'){
            steps{
                git 'https://github.com/ravdy/javaloginapp.git'
            }
         }        
       stage('Build'){
            steps{
                sh 'mvn clean package'
            }
         }
        stage('SonarQube analysis') {
//    def scannerHome = tool 'SonarScanner 4.0';
        steps{
        withSonarQubeEnv('sonarqube-8.9') { 
        // If you have configured more than one global server connection, you can specify its name
//      sh "${scannerHome}/bin/sonar-scanner"
        sh "mvn sonar:sonar"
    }
        }
        }
       
    }
}
```
<img width="862" alt="image" src="https://user-images.githubusercontent.com/75510135/146300250-cf9c3953-2e75-431d-84f5-1a8cae4aa556.png">
<img width="1033" alt="image" src="https://user-images.githubusercontent.com/75510135/146300295-8a053efc-585f-4b07-99fc-8eef71a4d2c8.png">
- set new profile in SQ
<img width="803" alt="image" src="https://user-images.githubusercontent.com/75510135/146300486-cfab2d3f-c2c9-4f38-b19f-c040f294cc51.png">

<img width="893" alt="image" src="https://user-images.githubusercontent.com/75510135/146300543-b1c70862-e4fb-4972-8528-1b995a057796.png">
<img width="994" alt="image" src="https://user-images.githubusercontent.com/75510135/146300579-a7f89b1f-ccb2-4395-8a54-57b496c904fa.png">

